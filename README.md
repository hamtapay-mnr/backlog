# backlog
## توضیحات
این پروژه متشکل از ۵ سرویس میباشد.    

۱- سروی سفارش گیری:   
این سرویس ۲ اندپوینت دارد. یکی برای خرید و دیگری برای درج طلا در خزانه. به دلیل اینکه از فریم ورک خاصی استفاده نشد قسمت سرور و روتر به صورت وانیلا و حداقلی نوشته شد.   
درج طلا در خزانه باعث آپدیت مقداری در کش که مشترک بین همه سرویس ها است میشود.   
سفارش خرید ابتدا بررسی میکند که آیا خرید قابل انجام است یا خیر (به دلیل اینکه هدف دقیق بودن سرویس بود) و سپس آن را به صف درخواست سفارش ارسال میکند در سرویس قیمت گذاری از آن استفاده میشود.

۲- سرویس قیمت گذاری:   
این سرویس هنگام دریافت رخداد سفارش جدید، اخرین قیمت را از کش (که توسط سرویس مارکت آپدیت شده) دریافت میکند و بر اساس باقیمانده خزانه شرایط افزایش قیمت را اعمال میکند. سپس صورتحساب خرید را به صف فاکتور ارسال میکند که سرویس اعلانات از آن استفاده میکند.

۳- سرویس اعلانات:   
این سرویس هنگام دریافت رخداد صورتحساب جدید، آن را به فرمتی مناسب درمیاورد و در صفی قرار میدهد که سرویس فرضی ارسال پیام به کاربر از آن استفاده میکند. همچنین اگر میزان دارایی خزانه به کمتر از ۵ درصد مقدار اولیه برسد پیامی را در صف هشدار به مدیریت ارسال میکند. این پیام فقط یکبار ارسال میشود و تا زمانی که از طریق سرویس سفارش گیری مدیر میزان خزانه را تغییر ندهد و بعد از خرید ها به حد بحرانی برسد، دیگر پیام هشدار نمیدهد.

۴- سرویس مارکت:   
این سرویس به صورت دوره ای مشخص (هر دو دقیقه) به سرویس خارجی درخواست میدهد. زیرا محدودیت تعداد درخواست به سرویس خارجی داریم. سپس آخرین قیمت را در کش قرار میدهد که سرویس قیمت گذاری از آن استفاده میکند.

۵- ردیس:   
از ردیس به عنوان کش، صف و لاک استفاده شد.
